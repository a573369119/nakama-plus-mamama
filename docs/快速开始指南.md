# Nakama-plus 快速开始指南

## 5分钟快速部署

### 环境要求
- Docker 20.10+
- Docker Compose 2.0+
- 2GB可用内存
- 1GB可用磁盘空间

### 步骤1: 下载项目
```bash
# 克隆项目（如果已有代码可跳过）
git clone https://github.com/doublemo/nakama-plus.git
cd nakama-plus
```

### 步骤2: 构建镜像
```bash
# 构建nakama-plus镜像
docker build -t nakama-plus:latest .
```

### 步骤3: 启动服务
```bash
# 使用单节点配置启动所有服务
docker-compose -f docker-compose-single.yml up -d
```

### 步骤4: 验证部署
```bash
# 检查服务状态
docker-compose -f docker-compose-single.yml ps

# 预期输出：
# NAME                          STATUS              PORTS
# nakama-plus-cockroachdb-1     Up (healthy)        0.0.0.0:8080->8080/tcp, 0.0.0.0:26257->26257/tcp
# nakama-plus-nakama-1          Up (healthy)        0.0.0.0:7349-7351->7349-7351/tcp
# nakama-plus-prometheus-1      Up                  0.0.0.0:9090->9090/tcp
```

### 步骤5: 访问服务
- **Nakama控制台**: http://localhost:7351
- **数据库管理**: http://localhost:8080  
- **监控面板**: http://localhost:9090

## 验证安装成功

### 测试API连接
```bash
# 测试健康检查端点
curl http://localhost:7350/healthcheck

# 预期输出: {"code":0,"message":"ok"}

# 测试版本信息
curl http://localhost:7350/v2/console/api/version

# 预期输出包含版本信息
```

### 检查日志
```bash
# 查看Nakama日志
docker-compose -f docker-compose-single.yml logs nakama

# 预期看到启动成功信息
```

## 下一步操作

### 基础配置
1. **修改默认密码**: 在config.yml中设置安全的密钥
2. **配置SSL证书**: 启用HTTPS安全连接
3. **设置管理员账户**: 访问控制台进行管理

### 进阶功能
1. **插件开发**: 参考[插件开发指南](07-插件开发/插件开发指南.md)
2. **集群部署**: 参考[集群部署指南](04-部署指南/集群部署指南.md)  
3. **监控配置**: 参考[监控系统指南](06-监控运维/监控系统指南.md)

## 故障排查

### 常见问题
如果遇到问题，请检查：

1. **端口冲突**: 修改docker-compose.yml中的端口映射
2. **镜像构建失败**: 确保Docker环境正常，重新构建镜像
3. **服务启动失败**: 查看详细日志 `docker-compose logs [service]`

### 获取帮助
- 查看[常见问题解决](08-故障排查/常见问题解决.md)
- 提交GitHub Issue
- 参与社区讨论

## 生产环境准备

完成快速部署后，建议进行以下生产环境准备：

1. **安全加固**: 修改默认密钥和密码
2. **备份策略**: 设置定期数据备份
3. **监控告警**: 配置完整的监控系统
4. **高可用部署**: 部署集群版本确保高可用性

恭喜！您已成功部署Nakama-plus游戏服务器。现在可以开始开发您的游戏后端了！